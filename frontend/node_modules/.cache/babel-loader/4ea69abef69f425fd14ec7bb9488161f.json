{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\Compressed\\\\nmCNPM-main\\\\nmCNPM-main\\\\lirvecafe\\\\src\\\\frontend\\\\components\\\\HomeStaff\\\\Orders\\\\Orders.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { Box, Tab } from '@material-ui/core';\nimport { TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport { getCookie } from '../../constants/userCookie';\nimport styles from \"./Orders.module.css\";\nimport OrdersList from './OrdersList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Orders() {\n  _s();\n\n  const [awaitOrders, setAwaitOrders] = useState([]);\n  const [comfirmOrders, setConfirmOrders] = useState([]);\n  const [completeOrders, setCompleteOrders] = useState([]);\n  const [change, setChange] = useState(0);\n  const [value, setValue] = useState('1');\n  var Await = 0;\n  var Comfirm = 1;\n  var Complete = 2;\n  let staff = getCookie('staff');\n\n  if (staff) {\n    staff = JSON.parse(staff);\n  } else {\n    staff = {};\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  useEffect(() => {\n    const getOrders = async state => {\n      const url = 'http://localhost:5000/bill/get_by_state/' + state;\n      const res = await (await fetch(url)).json(); // console.log(res);\n\n      if (state == 0) {\n        setAwaitOrders(res);\n      } else if (state == 1) {\n        setConfirmOrders(res);\n      } else setCompleteOrders(res);\n    };\n\n    getOrders(Await);\n    getOrders(Comfirm);\n    getOrders(Complete);\n  }, [change]);\n\n  const handleDeleteOrder = order => {\n    var id = order.billId;\n    var orderDeleteAPI = 'http://localhost:5000/bill/delete/' + id;\n    fetch(orderDeleteAPI, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => setChange(change + 1));\n  };\n\n  const handleUpdateOrder = order => {\n    var id = order.billId;\n    var orderDeleteAPI = 'http://localhost:5000/bill/update';\n    const res = fetch(orderDeleteAPI, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        staffID: staff.id,\n        billId: id\n      })\n    }).then(res => setChange(change + 1));\n  };\n\n  console.log(awaitOrders);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.orders,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.tabs,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: '100%',\n          typography: 'body1'\n        },\n        children: /*#__PURE__*/_jsxDEV(TabContext, {\n          value: value,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              borderBottom: 1,\n              borderColor: 'divider'\n            },\n            className: styles.tabs_list,\n            children: /*#__PURE__*/_jsxDEV(TabList, {\n              onChange: handleChange,\n              \"aria-label\": \"lab API tabs example\",\n              children: [/*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Ch\\u1EDD x\\xE1c nh\\u1EADn\",\n                value: \"1\",\n                style: {\n                  'font-weight': '700'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                label: \"\\u0110ang giao\",\n                value: \"2\",\n                style: {\n                  'font-weight': '700'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                label: \"Ho\\xE0n th\\xE0nh\",\n                value: \"3\",\n                style: {\n                  'font-weight': '700'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: \"1\",\n            children: /*#__PURE__*/_jsxDEV(OrdersList, {\n              orders: awaitOrders,\n              remove: handleDeleteOrder,\n              update: handleUpdateOrder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: \"2\",\n            children: /*#__PURE__*/_jsxDEV(OrdersList, {\n              orders: comfirmOrders,\n              update: handleUpdateOrder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            value: \"3\",\n            children: /*#__PURE__*/_jsxDEV(OrdersList, {\n              orders: completeOrders\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Orders, \"KT/P6JxHVPofTdz5GYCpUXKI41o=\");\n\n_c = Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"sources":["C:/Users/Asus/Downloads/Compressed/nmCNPM-main/nmCNPM-main/lirvecafe/src/frontend/components/HomeStaff/Orders/Orders.js"],"names":["useEffect","useState","Box","Tab","TabContext","TabList","TabPanel","getCookie","styles","OrdersList","Orders","awaitOrders","setAwaitOrders","comfirmOrders","setConfirmOrders","completeOrders","setCompleteOrders","change","setChange","value","setValue","Await","Comfirm","Complete","staff","JSON","parse","handleChange","event","newValue","getOrders","state","url","res","fetch","json","handleDeleteOrder","order","id","billId","orderDeleteAPI","method","headers","then","handleUpdateOrder","body","stringify","staffID","console","log","orders","tabs","width","typography","borderBottom","borderColor","tabs_list"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\nimport { Box, Tab } from '@material-ui/core';\nimport { TabContext, TabList, TabPanel } from '@material-ui/lab'\nimport { getCookie } from '../../constants/userCookie';\nimport styles from \"./Orders.module.css\"\nimport OrdersList from './OrdersList';\n\nexport default function Orders() {\n    const [awaitOrders, setAwaitOrders] = useState([]);\n    const [comfirmOrders, setConfirmOrders] = useState([]);\n    const [completeOrders, setCompleteOrders] = useState([]);\n    const [change, setChange] = useState(0);\n    const [value, setValue] = useState('1');\n    var Await = 0;\n    var Comfirm = 1;\n    var Complete = 2;\n    let staff = getCookie('staff');\n    if (staff) {\n        staff = JSON.parse(staff);\n    } else {\n        staff = {}\n    }\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n    };\n\n    useEffect(() => {\n        const getOrders = async (state) => {\n            const url = 'http://localhost:5000/bill/get_by_state/' + state;\n            const res = await (await (fetch(url\n            ))).json();\n            // console.log(res);\n            if (state == 0) {\n                setAwaitOrders(res);\n            }\n            else if (state == 1) {\n                setConfirmOrders(res);\n            }\n            else setCompleteOrders(res);\n        }\n        getOrders(Await);\n        getOrders(Comfirm);\n        getOrders(Complete);\n    }, [change]);\n    const handleDeleteOrder = (order) => {\n        var id = order.billId;\n        var orderDeleteAPI = 'http://localhost:5000/bill/delete/' + id;\n        fetch(orderDeleteAPI, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n            .then(res => setChange(change + 1));\n    }\n    const handleUpdateOrder = (order) => {\n        var id = order.billId;\n        var orderDeleteAPI = 'http://localhost:5000/bill/update';\n        const res = fetch(orderDeleteAPI, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ staffID: staff.id, billId: id })\n        })\n            .then(res => setChange(change + 1));\n    }\n\n\n    console.log(awaitOrders);\n\n    return (\n        <div className={styles.orders}>\n            {/* <div className={styles.header}>\n                <h1 className={styles.label}>Danh sách đơn hàng</h1>\n            </div> */}\n            <div className={styles.tabs}>\n                <Box sx={{ width: '100%', typography: 'body1' }}>\n                    <TabContext value={value}>\n                        <Box sx={{ borderBottom: 1, borderColor: 'divider' }} className={styles.tabs_list}>\n                            <TabList onChange={handleChange} aria-label=\"lab API tabs example\">\n                                <Tab label=\"Chờ xác nhận\" value=\"1\" style={{ 'font-weight': '700' }} />\n                                <Tab label=\"Đang giao\" value=\"2\" style={{ 'font-weight': '700' }} />\n                                <Tab label=\"Hoàn thành\" value=\"3\" style={{ 'font-weight': '700' }} />\n                            </TabList>\n                        </Box>\n                        <TabPanel value=\"1\">\n                            <OrdersList\n                                orders={awaitOrders}\n                                remove={handleDeleteOrder}\n                                update={handleUpdateOrder}\n                            />\n                        </TabPanel>\n                        <TabPanel value=\"2\">\n                            <OrdersList\n                                orders={comfirmOrders}\n                                update={handleUpdateOrder}\n                            />\n                        </TabPanel>\n                        <TabPanel value=\"3\">\n                            <OrdersList\n                                orders={completeOrders}\n                            />\n                        </TabPanel>\n                    </TabContext>\n                </Box>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}