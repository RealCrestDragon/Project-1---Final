{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\Compressed\\\\nmCNPM-main\\\\nmCNPM-main\\\\lirvecafe\\\\src\\\\frontend\\\\components\\\\UserCart\\\\UserCart.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport User from \"../User/User\";\nimport styles from \"./UserCart.css\";\nimport \"../../css/bootstrap.min.css\";\nimport \"../../css/bootstrap.css\";\nimport Footer from '../Footer/Footer';\nimport Header from '../Header/Header';\nimport { getCookie, deleteCookie } from \"../constants/userCookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserInfor = () => {\n  _s();\n\n  const [bills, setBills] = useState([]);\n  const [billsChange, setBillsChange] = useState(false);\n  let user = getCookie('customer');\n\n  if (user) {\n    user = JSON.parse(user);\n  } else {\n    user = {};\n  }\n\n  const ID = user.id;\n  console.log('ID: ', ID);\n  useEffect(() => {\n    fetch('http://localhost:5000/bill/get_by_customerId/' + ID).then(response => response.json()).then(resBills => {\n      console.log(resBills);\n      setBills(resBills);\n    });\n  }, [billsChange]);\n\n  function handleDeleteBill(id) {\n    console.log('xxxx', id);\n    fetch('http://localhost:5000/bill/delete/' + id, {\n      method: 'DELETE',\n      headers: {\n        'Content-type': 'application/json'\n      }\n    }).then(response => {\n      console.log(response);\n      console.log(response.json());\n      return response;\n    }).then(res => {\n      console.log(132);\n      console.log(res);\n      setBillsChange(!billsChange);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(User, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"div-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css\",\n        integrity: \"sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=\",\n        crossorigin: \"anonymous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"padding-top-2x mt-2 hidden-lg-up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"table-responsive wishlist-table margin-bottom-none\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0110\\u01A1n h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                class: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"btn btn-sm btn-outline-danger\",\n                  href: \"#\",\n                  children: \"X\\xF3a to\\xE0n b\\u1ED9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: bills.map((bill, index) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"product-item\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"product-info\",\n                      children: [bill.products.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"text-lg text-medium text-muted\",\n                        children: [product.name || 'productname', \" x \", product.number]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 87,\n                        columnNumber: 69\n                      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Tr\\u1EA1ng th\\xE1i:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"d-inline text-\" + (bill.state == 0 ? 'danger' : bill.state == 1 ? 'warning' : 'success'),\n                          children: bill.state == 0 ? ' Chờ xác nhận' : bill.state == 1 ? ' Chưa giao' : ' Hoàn thành'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 92,\n                          columnNumber: 65\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                        class: \"product-title\",\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          href: \"#\",\n                          children: [\"T\\u1ED5ng ti\\u1EC1n: \", bill.total || 'tong', \" VND\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 99,\n                          columnNumber: 87\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 99,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    class: \"remove-from-cart\",\n                    \"data-toggle\": \"tooltip\",\n                    title: \"\",\n                    \"data-original-title\": \"Remove item\",\n                    onClick: () => handleDeleteBill(bill.billId),\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"icon-cross\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 57\n                    }, this), \"X\\xF3a\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 49\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 45\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserInfor, \"5PWpcfDEQ6QMoBWe0pZbEhdmbW0=\");\n\n_c = UserInfor;\nexport default UserInfor;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInfor\");","map":{"version":3,"sources":["C:/Users/Asus/Downloads/Compressed/nmCNPM-main/nmCNPM-main/lirvecafe/src/frontend/components/UserCart/UserCart.js"],"names":["React","Fragment","useState","useEffect","User","styles","Footer","Header","getCookie","deleteCookie","UserInfor","bills","setBills","billsChange","setBillsChange","user","JSON","parse","ID","id","console","log","fetch","then","response","json","resBills","handleDeleteBill","method","headers","res","map","bill","index","products","product","name","number","state","total","billId"],"mappings":"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","sourcesContent":["import React, {Fragment} from \"react\";\nimport { useState, useEffect } from \"react\"\nimport User from \"../User/User\";\nimport styles from \"./UserCart.css\"\nimport \"../../css/bootstrap.min.css\";\nimport \"../../css/bootstrap.css\";\nimport Footer from '../Footer/Footer';\nimport Header from '../Header/Header'\nimport {getCookie, deleteCookie} from \"../constants/userCookie\"\n\n\nconst UserInfor = () => {\n\n    const [bills, setBills] = useState([])\n\n    const [billsChange, setBillsChange] = useState(false)\n\n    let user = getCookie('customer');\n    if (user) {\n        user = JSON.parse(user);\n    } else {\n        user = {}\n    }\n    const ID = user.id;\n\n    console.log('ID: ', ID);\n\n    useEffect(() => {\n        fetch('http://localhost:5000/bill/get_by_customerId/' + ID)\n            .then(response => response.json())\n            .then(resBills => {\n                console.log(resBills);\n                setBills(resBills);\n            })\n    }, [billsChange])\n\n\n    function handleDeleteBill(id){\n        console.log('xxxx', id);\n        fetch('http://localhost:5000/bill/delete/' + id, {\n                method: 'DELETE',\n                headers: {\n                    'Content-type': 'application/json'\n                },\n            })\n            .then(response => {\n                console.log(response);\n                console.log(response.json());\n                return response\n            })\n            .then(res => {\n                console.log(132);\n                console.log(res);\n                setBillsChange(!billsChange)\n                \n            })\n    }\n\n    return (\n        <Fragment>\n            <Header />\n            <User></User>\n\n            <div class=\"div-content\">\n                <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css\" integrity=\"sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=\" crossorigin=\"anonymous\" />\n                <div class=\"padding-top-2x mt-2 hidden-lg-up\"></div>\n                    \n                    <div class=\"table-responsive wishlist-table margin-bottom-none\">\n                        <table class=\"table\">\n                            <thead>\n                                <tr>\n                                    <th>Đơn hàng</th>\n                                    <th class=\"text-center\"><a class=\"btn btn-sm btn-outline-danger\" href=\"#\">Xóa toàn bộ</a></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    bills.map((bill, index) => {\n                                        return (\n                                            <tr key= {index}>\n                                                <td>\n                                                    <div class=\"product-item\">\n                                                        <div class=\"product-info\">\n                                                            {/* <h4 class=\"product-title\"><a href=\"#\">Caffe sữa</a></h4> */}\n                                                            {\n                                                                bill.products.map((product, index) => \n                                                                    <div key= {index} class=\"text-lg text-medium text-muted\">{product.name || 'productname'} x {product.number}</div>\n                                                                \n                                                                )\n                                                            }\n                                                            <div>Trạng thái: \n                                                                <div class={\"d-inline text-\" + (bill.state == 0 ? 'danger' : bill.state == 1 ? 'warning' : 'success')}>\n                                                                    {bill.state == 0 ? ' Chờ xác nhận' : bill.state == 1 ? ' Chưa giao' : ' Hoàn thành'}\n                                                                </div>\n                                                                {\n                                                                    \n                                                                }\n                                                            </div>\n                                                            <h4 class=\"product-title\"><a href=\"#\">Tổng tiền: {bill.total || 'tong'} VND</a></h4>\n                                                        </div>\n                                                    </div>\n                                                </td>\n                                                            {/* <th class=\"text-center\"><a class=\"btn btn-sm btn-outline-danger\" href=\"#\">Xóa toàn bộ</a></th> */}\n                                                <td class=\"text-center\">\n                                                    <a class=\"remove-from-cart\"  data-toggle=\"tooltip\" title=\"\" data-original-title=\"Remove item\"\n                                                        onClick={() => handleDeleteBill(bill.billId)}\n                                                    >\n                                                        <i class=\"icon-cross\"></i>\n                                                        Xóa\n                                                    </a>\n                                                </td>\n                                            </tr>\n                                        )\n                                    })\n                                }\n                                \n                            </tbody>\n                        </table>\n                    </div>\n                    {/* <hr class=\"mb-4\"/>\n                    <div class=\"custom-control custom-checkbox\">\n                        <input class=\"custom-control-input\" type=\"checkbox\" id=\"inform_me\" checked=\"\"/>\n                        <label class=\"custom-control-label\" for=\"inform_me\">Thông báo cho tôi nếu có sản phẩm mới!</label>\n                    </div> */}\n        </div>\n\n        \n\n        </Fragment>\n    )\n}\nexport default UserInfor"]},"metadata":{},"sourceType":"module"}