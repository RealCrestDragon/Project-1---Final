{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\Compressed\\\\nmCNPM-main\\\\nmCNPM-main\\\\lirvecafe\\\\src\\\\frontend\\\\components\\\\staffCreateBill\\\\staffCreateBill.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Products from './products/products';\nimport Bill from './Bill/bill.jsx';\nimport Checkout from './checkout/checkout';\nimport { Grid } from '@material-ui/core';\nimport { useEffect } from 'react';\nimport { getCookie, deleteCookie } from \"../constants/userCookie\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StaffCreateBill = () => {\n  _s();\n\n  const [change, setChange] = useState(0);\n  const [items, setItems] = useState([]);\n  let user = getCookie('staff');\n\n  if (user) {\n    user = JSON.parse(user);\n  } else {\n    user = {};\n  }\n\n  const id = user.id;\n\n  const axios = require('axios');\n\n  const handleAddToCart = (itemId, price) => {\n    const temp = {\n      staffId: user.id,\n      productId: itemId,\n      price: price\n    };\n    axios({\n      method: 'PUT',\n      url: \"http://localhost:5000/staffcart/addToCart\",\n      data: temp\n    }).then(res => {\n      setChange(change + 1);\n    });\n    console.log(temp);\n  };\n\n  const handleRemoveFromCart = itemId => {\n    const temp = {\n      staffId: id,\n      productId: itemId\n    };\n    axios({\n      method: 'PUT',\n      url: \"http://localhost:5000/staffcart/deleteFromCart\",\n      data: temp\n    }).then(res => {\n      setChange(change + 1);\n    });\n    console.log(temp);\n  };\n\n  useEffect(() => {\n    const getCart = async () => {\n      const url = 'http://localhost:5000/staffcart/get/' + id;\n      const res = await (await fetch(url)).json();\n      setItems(res);\n    };\n\n    getCart();\n    console.log(change);\n  }, [change]);\n  console.log(items);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    paddingTop: \"50px\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: \"8\",\n        children: /*#__PURE__*/_jsxDEV(Products, {\n          handleAdd: handleAddToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        items: true,\n        xs: \"4\",\n        children: [/*#__PURE__*/_jsxDEV(Bill, {\n          items: items,\n          add: handleAddToCart,\n          remove: handleRemoveFromCart,\n          change: change\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Checkout, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(StaffCreateBill, \"npFFLjULW22HpqzGGPaEaBGpYn8=\");\n\n_c = StaffCreateBill;\nexport default StaffCreateBill;\n\nvar _c;\n\n$RefreshReg$(_c, \"StaffCreateBill\");","map":{"version":3,"sources":["C:/Users/Asus/Downloads/Compressed/nmCNPM-main/nmCNPM-main/lirvecafe/src/frontend/components/staffCreateBill/staffCreateBill.jsx"],"names":["React","Products","Bill","Checkout","Grid","useEffect","getCookie","deleteCookie","useState","StaffCreateBill","change","setChange","items","setItems","user","JSON","parse","id","axios","require","handleAddToCart","itemId","price","temp","staffId","productId","method","url","data","then","res","console","log","handleRemoveFromCart","getCart","fetch","json"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Products from './products/products';\nimport Bill from './Bill/bill.jsx';\nimport Checkout from './checkout/checkout';\nimport { Grid } from '@material-ui/core';\nimport {useEffect} from 'react';\nimport {getCookie, deleteCookie} from \"../constants/userCookie\";\nimport {useState} from 'react';\nconst StaffCreateBill = () => {\n    const [change, setChange] = useState(0);\n    const [items, setItems] = useState([]);\n    let user = getCookie('staff');\n    if (user) {\n        user = JSON.parse(user);\n    } else {\n        user = {}\n    }\n    const id = user.id;\n    const axios = require('axios');\n    const handleAddToCart = ((itemId, price) => {\n        const temp = {staffId: user.id, productId: itemId, price: price};\n        axios({\n            method: 'PUT',\n            url: \"http://localhost:5000/staffcart/addToCart\",\n            data: temp,\n        }).then(res => {\n            setChange(change+1);\n        });\n        console.log(temp);\n\n    });\n    const handleRemoveFromCart = ((itemId) => {\n        const temp = {staffId: id, productId: itemId};\n        axios({\n            method: 'PUT',\n            url: \"http://localhost:5000/staffcart/deleteFromCart\",\n            data: temp,\n        }).then(res => {\n            setChange(change+1);\n        });\n        console.log(temp);\n    });\n    useEffect(() => {\n        const getCart = async () => {\n            const url = 'http://localhost:5000/staffcart/get/' + id;\n            const res = await (await (fetch(url\n            ))).json();\n            setItems(res);\n        }\n        getCart();\n        console.log(change);\n    }, [change]);\n    console.log(items);\n\n    return (\n        <div paddingTop = '50px'>\n            <Grid container>\n                <Grid item xs = \"8\">\n                    <Products handleAdd = {handleAddToCart}/>\n                </Grid>\n                <Grid items xs = \"4\">\n                    <Bill items = {items} add = {handleAddToCart} remove = {handleRemoveFromCart} change = {change}/>\n                    <Checkout/>\n                </Grid>\n            </Grid>\n        </div>\n    )\n}\n\nexport default StaffCreateBill\n"]},"metadata":{},"sourceType":"module"}