{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\Compressed\\\\nmCNPM-main\\\\nmCNPM-main\\\\lirvecafe\\\\src\\\\frontend\\\\components\\\\Header\\\\cart\\\\Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport CartItem from './cartitem/CartItem';\nimport useStyles from './styles';\nimport { useState } from 'react';\nimport { Button, Drawer } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport { ShoppingCart } from '@material-ui/icons';\nimport { useEffect } from 'react';\nimport * as isSignined from '../../constants/isSignined';\nimport { getCookie } from \"../../constants/userCookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cart = () => {\n  _s();\n\n  const [cartOpen, setCartOpen] = useState(false);\n  const [items, setItems] = useState([]);\n  const [change, setChange] = useState(false);\n  let signined = getCookie(isSignined.customer);\n  let user = getCookie('customer');\n\n  if (user) {\n    user = JSON.parse(user);\n  } else {\n    user = {};\n  }\n\n  const id = user.id;\n\n  const handleAddToCart = async itemId => {\n    const temp = {\n      cartId: id,\n      productId: itemId\n    };\n    const url = \"http://localhost:5000/cart/addToCart/\";\n    await fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(temp)\n    }).then(res => setChange(true));\n  };\n\n  const handleRemoveFromCart = async itemId => {\n    const temp = {\n      cartId: id,\n      productId: itemId\n    };\n    const url = \"http://localhost:5000/cart/deleteFromCart/\";\n    await fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(temp)\n    }).then(res => setChange(true));\n    ;\n  };\n\n  useEffect(() => {\n    const getCart = async () => {\n      const url = 'http://localhost:5000/cart/get/' + id;\n      await (await fetch(url)).json().then(res => setItems(res)).then(() => setChange(false));\n    };\n\n    getCart();\n  }, [cartOpen, change]); // console.log(items);\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => setCartOpen(true),\n        styles: {\n          position: 'inherit'\n        },\n        children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n          styles: {\n            position: 'inherit'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      anchor: \"right\",\n      open: cartOpen,\n      onClose: () => setCartOpen(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.cart,\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your shopping cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => window.location.href = '/checkout',\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), items.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n          item: item,\n          add: handleAddToCart,\n          remove: handleRemoveFromCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cart, \"n/6HZxG6EtyzXNBwvEpW67VIilU=\", false, function () {\n  return [useStyles];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/Asus/Downloads/Compressed/nmCNPM-main/nmCNPM-main/lirvecafe/src/frontend/components/Header/cart/Cart.jsx"],"names":["React","CartItem","useStyles","useState","Button","Drawer","IconButton","ShoppingCart","useEffect","isSignined","getCookie","Cart","cartOpen","setCartOpen","items","setItems","change","setChange","signined","customer","user","JSON","parse","id","handleAddToCart","itemId","temp","cartId","productId","url","fetch","method","headers","body","stringify","then","res","handleRemoveFromCart","getCart","json","classes","position","cart","window","location","href","map","item"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CartItem from './cartitem/CartItem';\nimport useStyles from './styles'\nimport {useState} from 'react';\nimport {Button, Drawer} from '@material-ui/core';\nimport {IconButton} from '@material-ui/core';\nimport {ShoppingCart} from '@material-ui/icons';\nimport {useEffect} from 'react';\nimport * as isSignined from '../../constants/isSignined';\nimport {getCookie} from \"../../constants/userCookie\";\n\n\nconst Cart = () => {\n    const [cartOpen, setCartOpen] = useState(false);\n    const [items, setItems] = useState([]);\n    const [change, setChange] = useState(false);\n    let signined = getCookie(isSignined.customer);\n    let user = getCookie('customer');\n    if (user) {\n        user = JSON.parse(user);\n    } else {\n        user = {}\n    }\n    const id = user.id;\n\n    const handleAddToCart =  (async (itemId) => {\n        const temp = {cartId: id, productId: itemId};\n        const url = \"http://localhost:5000/cart/addToCart/\";\n        await fetch(url, {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(temp),\n        })\n        .then(res => setChange(true));\n\n    });\n    const handleRemoveFromCart = (async (itemId) => {\n        const temp = {cartId: id, productId: itemId};\n        const url = \"http://localhost:5000/cart/deleteFromCart/\";\n        await fetch(url, {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(temp),\n        })\n        .then(res => setChange(true));        ;\n    });\n\n    useEffect (()=>{\n        const getCart = async()=>{\n            const url = 'http://localhost:5000/cart/get/'+id;\n            await(await(fetch(url)))\n            .json()\n            .then(res => setItems(res))\n            .then(() => setChange(false));\n        }\n            getCart()\n        \n    },[cartOpen, change]);\n\n    // console.log(items);\n\n    const classes = useStyles();\n    return (\n        <div>\n            <div>\n                <IconButton onClick={() => setCartOpen(true)} styles={{position:'inherit'}}>\n                    <ShoppingCart styles={{position:'inherit'}}/>\n                </IconButton>\n            </div>\n            <Drawer anchor='right' open={cartOpen} onClose={() => setCartOpen(false)}>\n                <div className={classes.cart} align='center'>\n\n                    <div>\n                        <h2>Your shopping cart</h2>\n                    </div>\n                    <Button\n                        onClick={() => window.location.href = '/checkout'}\n                        >Checkout</Button>\n                    {items.map(item => (\n                        <CartItem\n                            item={item}\n                            add={handleAddToCart}\n                            remove={handleRemoveFromCart}\n                        />\n                    ))}\n                </div>\n            </Drawer>\n        </div>\n    )\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}